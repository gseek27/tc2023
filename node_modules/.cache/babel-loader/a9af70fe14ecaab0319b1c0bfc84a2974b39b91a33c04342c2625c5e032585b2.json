{"ast":null,"code":"import { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_TweetPost = _resolveComponent(\"TweetPost\");\n  return _openBlock(), _createElementBlock(\"div\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.sortedTweets, tweet => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: tweet.id\n    }, [tweet.content ? (_openBlock(), _createBlock(_component_TweetPost, {\n      key: 0,\n      tweetData: tweet,\n      onLikeToggled: $options.handleLikeToggle,\n      onRepeatToggled: $options.handleRepeatToggle,\n      userId: tweet.userId,\n      onTweetDeleted: $options.handleTweetDeleted\n    }, null, 8 /* PROPS */, [\"tweetData\", \"onLikeToggled\", \"onRepeatToggled\", \"userId\", \"onTweetDeleted\"])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))]);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_renderList","$setup","sortedTweets","tweet","key","id","content","_createBlock","_component_TweetPost","tweetData","onLikeToggled","$options","handleLikeToggle","onRepeatToggled","handleRepeatToggle","userId","onTweetDeleted","handleTweetDeleted"],"sources":["/Users/kharelthompson/Coding/tc23/src/components/TweetsList.vue"],"sourcesContent":["<template>\n  <div>\n     <div v-for=\"tweet in sortedTweets\" :key=\"tweet.id\">\n     <TweetPost v-if=\"tweet.content\" \n  :tweetData=\"tweet\"\n  @likeToggled=\"handleLikeToggle\"\n  @repeatToggled=\"handleRepeatToggle\"\n  :userId=\"tweet.userId\" \n  @tweetDeleted=\"handleTweetDeleted\"\n/>\n\n    </div>\n  </div>\n</template>\n\n<script>\nimport { computed } from 'vue';\nimport TweetPost from './TweetPost.vue';\nimport { getFirestore, doc, updateDoc } from 'firebase/firestore';\n\n\nexport default {\n  name: 'TweetsList',\n  components: {\n    TweetPost\n  },\n  props: {\n    tweets: {\n      type: Array,\n      required: true,\n      default: () => []\n    }\n  },\n  setup(props) {\n        console.log(\"Tweets prop in TweetsList:\", props.tweets);\n    const sortedTweets = computed(() => {\n      return [...props.tweets].sort((a, b) => b.timestamp - a.timestamp);\n    });\n\n    return {\n      sortedTweets\n    };\n  },\n  methods: {\n    async handleLikeToggle(tweetId) {\n    const db = getFirestore();\n    const tweetDocRef = doc(db, 'tweets', tweetId);\n    \n    const tweet = this.tweets.find(t => t.id === tweetId);\n    if (tweet) {\n      tweet.liked = !tweet.liked;\n      // Now, update the Firestore database using the updateDoc method\n      try {\n        await updateDoc(tweetDocRef, { liked: tweet.liked });\n      } catch (error) {\n        console.error('Error updating like status:', error);\n      }\n    }\n  },\n\n  async handleRepeatToggle(tweetId) {\n    const db = getFirestore();\n    const tweetDocRef = doc(db, 'tweets', tweetId);\n    \n    const tweet = this.tweets.find(t => t.id === tweetId);\n    if (tweet) {\n      tweet.repeatd = !tweet.repeatd;\n      // Now, update the Firestore database using the updateDoc method\n      try {\n        await updateDoc(tweetDocRef, { repeatd: tweet.repeatd });\n      } catch (error) {\n        console.error('Error updating repeat status:', error);\n      }\n    }\n  },\n    handleTweetDeleted(tweetId) {\n      // Emitting an event so parent component can handle it\n      this.$emit('removeTweet', tweetId);\n    }\n  }\n};\n</script>\n"],"mappings":";;;uBACEA,mBAAA,CAWM,e,kBAVHA,mBAAA,CASKC,SAAA,QAAAC,WAAA,CATgBC,MAAA,CAAAC,YAAY,EAArBC,KAAK;yBAAjBL,mBAAA,CASK;MAT+BM,GAAG,EAAED,KAAK,CAACE;QAC9BF,KAAK,CAACG,OAAO,I,cAA9BC,YAAA,CAMHC,oBAAA;;MALCC,SAAS,EAAEN,KAAK;MAChBO,aAAW,EAAEC,QAAA,CAAAC,gBAAgB;MAC7BC,eAAa,EAAEF,QAAA,CAAAG,kBAAkB;MACjCC,MAAM,EAAEZ,KAAK,CAACY,MAAM;MACpBC,cAAY,EAAEL,QAAA,CAAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}