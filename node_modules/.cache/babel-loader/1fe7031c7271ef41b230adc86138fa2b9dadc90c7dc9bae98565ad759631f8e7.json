{"ast":null,"code":"import SideBar from './SideBar.vue';\nimport TweetBox from './TweetBox.vue';\nimport TrendingPosts from './TrendingPosts.vue';\nimport WhoToFollow from './WhoToFollow.vue';\nimport TweetsList from './TweetsList.vue';\nimport { getFirestore, collection, getDocs, orderBy, query } from 'firebase/firestore';\nimport { getAuth, signOut } from 'firebase/auth';\nexport default {\n  name: 'HomePage',\n  components: {\n    SideBar,\n    TweetBox,\n    TrendingPosts,\n    WhoToFollow,\n    TweetsList\n  },\n  data: () => ({\n    tweets: [],\n    trendingTopics: [{\n      title: 'MLB',\n      subtitle: '2 hours ago'\n    }, {\n      title: 'Anthony Davis',\n      subtitle: '1,032 posts'\n    }],\n    usersToFollow: [{\n      name: 'AmazingAyo'\n    }]\n  }),\n  methods: {\n    updateTweetLikedStatus({\n      tweetId,\n      status\n    }) {\n      const tweetToUpdate = this.tweets.find(tweet => tweet.id === tweetId);\n      if (tweetToUpdate) {\n        tweetToUpdate.liked = status;\n      }\n    },\n    async logout() {\n      try {\n        const auth = getAuth();\n        await signOut(auth);\n        // Redirect to login or home page after successful logout\n        // this.$router.push('/login');\n      } catch (error) {\n        console.error('Error signing out:', error);\n      }\n    },\n    updateTweetRepeatStatus({\n      tweetId,\n      status\n    }) {\n      const tweetToUpdate = this.tweets.find(tweet => tweet.id === tweetId);\n      if (tweetToUpdate) {\n        tweetToUpdate.repeated = status;\n      }\n    },\n    removeTweet(tweetId) {\n      this.tweets = this.tweets.filter(tweet => tweet.id !== tweetId);\n    },\n    async fetchTweets() {\n      const db = getFirestore();\n      const tweetsCollection = collection(db, 'tweets');\n      const tweetsQuery = query(tweetsCollection, orderBy('timestamp', 'desc'));\n      const tweetDocs = await getDocs(tweetsQuery);\n      this.tweets = tweetDocs.docs.map(doc => {\n        const data = doc.data();\n        return {\n          id: doc.id,\n          userId: data.userId,\n          // Include the userId\n          ...data\n        };\n      });\n      console.log('Fetched tweets in parent:', this.tweets);\n    }\n  },\n  mounted() {\n    this.fetchTweets();\n  }\n};","map":{"version":3,"names":["SideBar","TweetBox","TrendingPosts","WhoToFollow","TweetsList","getFirestore","collection","getDocs","orderBy","query","getAuth","signOut","name","components","data","tweets","trendingTopics","title","subtitle","usersToFollow","methods","updateTweetLikedStatus","tweetId","status","tweetToUpdate","find","tweet","id","liked","logout","auth","error","console","updateTweetRepeatStatus","repeated","removeTweet","filter","fetchTweets","db","tweetsCollection","tweetsQuery","tweetDocs","docs","map","doc","userId","log","mounted"],"sources":["/Users/kharelthompson/Coding/tc23/src/components/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=\"3\">\n        <SideBar />\n        <button @click=\"logout\">Logout</button>\n      </v-col>\n      <v-col cols=\"6\">\n        <TweetBox @tweetPosted=\"fetchTweets\" />\n        <TweetsList\n          :tweets=\"tweets\"\n          :tweetData=\"tweet\"\n          :userId=\"currentUserId\"\n          @removeTweet=\"removeTweet\"\n          @tweetLikedStatusUpdated=\"updateTweetLikedStatus\"\n          @tweetRepeatStatusUpdated=\"updateTweetRepeatStatus\"\n        />\n      </v-col>\n      <v-col cols=\"3\">\n        <TrendingPosts :topics=\"trendingTopics\" class=\"sideB\" />\n        <WhoToFollow :users=\"usersToFollow\" class=\"sideB\" />\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport SideBar from './SideBar.vue'\nimport TweetBox from './TweetBox.vue'\nimport TrendingPosts from './TrendingPosts.vue'\nimport WhoToFollow from './WhoToFollow.vue'\nimport TweetsList from './TweetsList.vue'\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  orderBy,\n  query,\n} from 'firebase/firestore'\nimport { getAuth, signOut } from 'firebase/auth';\n\n\nexport default {\n  name: 'HomePage',\n  components: {\n    SideBar,\n    TweetBox,\n    TrendingPosts,\n    WhoToFollow,\n    TweetsList,\n  },\n  data: () => ({\n    tweets: [],\n    trendingTopics: [\n      { title: 'MLB', subtitle: '2 hours ago' },\n      { title: 'Anthony Davis', subtitle: '1,032 posts' },\n    ],\n    usersToFollow: [{ name: 'AmazingAyo' }],\n  }),\n  methods: {\n    updateTweetLikedStatus({ tweetId, status }) {\n      const tweetToUpdate = this.tweets.find((tweet) => tweet.id === tweetId)\n      if (tweetToUpdate) {\n        tweetToUpdate.liked = status\n      }\n    },\n    async logout() {\n      try {\n        const auth = getAuth();\n        await signOut(auth);\n        // Redirect to login or home page after successful logout\n        // this.$router.push('/login');\n      } catch (error) {\n        console.error('Error signing out:', error);\n      }\n    },\n    updateTweetRepeatStatus({ tweetId, status }) {\n      const tweetToUpdate = this.tweets.find((tweet) => tweet.id === tweetId)\n      if (tweetToUpdate) {\n        tweetToUpdate.repeated = status\n      }\n    },\n    removeTweet(tweetId) {\n      this.tweets = this.tweets.filter((tweet) => tweet.id !== tweetId)\n    },\n    async fetchTweets() {\n      const db = getFirestore()\n      const tweetsCollection = collection(db, 'tweets')\n      const tweetsQuery = query(tweetsCollection, orderBy('timestamp', 'desc'))\n      const tweetDocs = await getDocs(tweetsQuery)\n\n      this.tweets = tweetDocs.docs.map((doc) => {\n        const data = doc.data()\n        return {\n          id: doc.id,\n          userId: data.userId, // Include the userId\n          ...data,\n        }\n      })\n      console.log('Fetched tweets in parent:', this.tweets)\n    },\n  },\n  mounted() {\n    this.fetchTweets()\n  },\n}\n</script>\n\n<style scoped>\n.sideB {\n  margin-bottom: 30px;\n  border: 1px solid #e0e0e0;\n  padding: 0px 10px;\n  margin-top: 0px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}