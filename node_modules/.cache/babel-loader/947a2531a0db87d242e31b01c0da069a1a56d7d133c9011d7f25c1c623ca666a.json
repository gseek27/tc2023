{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SideBar = _resolveComponent(\"SideBar\");\n  const _component_v_col = _resolveComponent(\"v-col\");\n  const _component_TweetBox = _resolveComponent(\"TweetBox\");\n  const _component_TweetsList = _resolveComponent(\"TweetsList\");\n  const _component_TrendingPosts = _resolveComponent(\"TrendingPosts\");\n  const _component_WhoToFollow = _resolveComponent(\"WhoToFollow\");\n  const _component_v_row = _resolveComponent(\"v-row\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_v_row, null, {\n    default: _withCtx(() => [_createVNode(_component_v_col, {\n      cols: \"3\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_SideBar), _createElementVNode(\"button\", {\n        onClick: _cache[0] || (_cache[0] = (...args) => $options.logout && $options.logout(...args))\n      }, \"Logout\")]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_col, {\n      cols: \"6\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_TweetBox, {\n        onTweetPosted: $options.fetchTweets\n      }, null, 8 /* PROPS */, [\"onTweetPosted\"]), _createVNode(_component_TweetsList, {\n        tweets: _ctx.tweets,\n        tweetData: _ctx.tweet,\n        userId: _ctx.currentUserId,\n        onRemoveTweet: $options.removeTweet,\n        onTweetLikedStatusUpdated: $options.updateTweetLikedStatus,\n        onTweetRepeatStatusUpdated: $options.updateTweetRepeatStatus\n      }, null, 8 /* PROPS */, [\"tweets\", \"tweetData\", \"userId\", \"onRemoveTweet\", \"onTweetLikedStatusUpdated\", \"onTweetRepeatStatusUpdated\"])]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_v_col, {\n      cols: \"3\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_TrendingPosts, {\n        topics: _ctx.trendingTopics,\n        class: \"sideB\"\n      }, null, 8 /* PROPS */, [\"topics\"]), _createVNode(_component_WhoToFollow, {\n        users: _ctx.usersToFollow,\n        class: \"sideB\"\n      }, null, 8 /* PROPS */, [\"users\"])]),\n      _: 1 /* STABLE */\n    })]),\n\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementBlock","_createVNode","_component_v_row","_component_v_col","cols","_component_SideBar","_createElementVNode","onClick","_cache","args","$options","logout","_component_TweetBox","onTweetPosted","fetchTweets","_component_TweetsList","tweets","_ctx","tweetData","tweet","userId","currentUserId","onRemoveTweet","removeTweet","onTweetLikedStatusUpdated","updateTweetLikedStatus","onTweetRepeatStatusUpdated","updateTweetRepeatStatus","_component_TrendingPosts","topics","trendingTopics","class","_component_WhoToFollow","users","usersToFollow"],"sources":["/Users/kharelthompson/Coding/tc23/src/components/Home.vue"],"sourcesContent":["<template>\n  <div>\n    <v-row>\n      <v-col cols=\"3\">\n        <SideBar />\n        <button @click=\"logout\">Logout</button>\n      </v-col>\n      <v-col cols=\"6\">\n        <TweetBox @tweetPosted=\"fetchTweets\" />\n        <TweetsList\n          :tweets=\"tweets\"\n          :tweetData=\"tweet\"\n          :userId=\"currentUserId\"\n          @removeTweet=\"removeTweet\"\n          @tweetLikedStatusUpdated=\"updateTweetLikedStatus\"\n          @tweetRepeatStatusUpdated=\"updateTweetRepeatStatus\"\n        />\n      </v-col>\n      <v-col cols=\"3\">\n        <TrendingPosts :topics=\"trendingTopics\" class=\"sideB\" />\n        <WhoToFollow :users=\"usersToFollow\" class=\"sideB\" />\n      </v-col>\n    </v-row>\n  </div>\n</template>\n\n<script>\nimport SideBar from './SideBar.vue'\nimport TweetBox from './TweetBox.vue'\nimport TrendingPosts from './TrendingPosts.vue'\nimport WhoToFollow from './WhoToFollow.vue'\nimport TweetsList from './TweetsList.vue'\nimport {\n  getFirestore,\n  collection,\n  getDocs,\n  orderBy,\n  query,\n} from 'firebase/firestore'\nimport { getAuth, signOut } from 'firebase/auth';\n\n\nexport default {\n  name: 'HomePage',\n  components: {\n    SideBar,\n    TweetBox,\n    TrendingPosts,\n    WhoToFollow,\n    TweetsList,\n  },\n  data: () => ({\n    tweets: [],\n    trendingTopics: [\n      { title: 'MLB', subtitle: '2 hours ago' },\n      { title: 'Anthony Davis', subtitle: '1,032 posts' },\n    ],\n    usersToFollow: [{ name: 'AmazingAyo' }],\n  }),\n  methods: {\n    updateTweetLikedStatus({ tweetId, status }) {\n      const tweetToUpdate = this.tweets.find((tweet) => tweet.id === tweetId)\n      if (tweetToUpdate) {\n        tweetToUpdate.liked = status\n      }\n    },\n    async logout() {\n      try {\n        const auth = getAuth();\n        await signOut(auth);\n        // Redirect to login or home page after successful logout\n        // this.$router.push('/login');\n      } catch (error) {\n        console.error('Error signing out:', error);\n      }\n    },\n    updateTweetRepeatStatus({ tweetId, status }) {\n      const tweetToUpdate = this.tweets.find((tweet) => tweet.id === tweetId)\n      if (tweetToUpdate) {\n        tweetToUpdate.repeated = status\n      }\n    },\n    removeTweet(tweetId) {\n      this.tweets = this.tweets.filter((tweet) => tweet.id !== tweetId)\n    },\n    async fetchTweets() {\n      const db = getFirestore()\n      const tweetsCollection = collection(db, 'tweets')\n      const tweetsQuery = query(tweetsCollection, orderBy('timestamp', 'desc'))\n      const tweetDocs = await getDocs(tweetsQuery)\n\n      this.tweets = tweetDocs.docs.map((doc) => {\n        const data = doc.data()\n        return {\n          id: doc.id,\n          userId: data.userId, // Include the userId\n          ...data,\n        }\n      })\n      console.log('Fetched tweets in parent:', this.tweets)\n    },\n  },\n  mounted() {\n    this.fetchTweets()\n  },\n}\n</script>\n\n<style scoped>\n.sideB {\n  margin-bottom: 30px;\n  border: 1px solid #e0e0e0;\n  padding: 0px 10px;\n  margin-top: 0px;\n  border-radius: 5px;\n}\n</style>\n"],"mappings":";;;;;;;;;uBACEA,mBAAA,CAsBM,cArBJC,YAAA,CAoBQC,gBAAA;sBAnBN,MAGQ,CAHRD,YAAA,CAGQE,gBAAA;MAHDC,IAAI,EAAC;IAAG;wBACb,MAAW,CAAXH,YAAA,CAAWI,kBAAA,GACXC,mBAAA,CAAuC;QAA9BC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,MAAA,IAAAD,QAAA,CAAAC,MAAA,IAAAF,IAAA,CAAM;SAAE,QAAM,E;;QAEhCR,YAAA,CAUQE,gBAAA;MAVDC,IAAI,EAAC;IAAG;wBACb,MAAuC,CAAvCH,YAAA,CAAuCW,mBAAA;QAA5BC,aAAW,EAAEH,QAAA,CAAAI;MAAW,4CACnCb,YAAA,CAOEc,qBAAA;QANCC,MAAM,EAAEC,IAAA,CAAAD,MAAM;QACdE,SAAS,EAAED,IAAA,CAAAE,KAAK;QAChBC,MAAM,EAAEH,IAAA,CAAAI,aAAa;QACrBC,aAAW,EAAEZ,QAAA,CAAAa,WAAW;QACxBC,yBAAuB,EAAEd,QAAA,CAAAe,sBAAsB;QAC/CC,0BAAwB,EAAEhB,QAAA,CAAAiB;;;QAG/B1B,YAAA,CAGQE,gBAAA;MAHDC,IAAI,EAAC;IAAG;wBACb,MAAwD,CAAxDH,YAAA,CAAwD2B,wBAAA;QAAxCC,MAAM,EAAEZ,IAAA,CAAAa,cAAc;QAAEC,KAAK,EAAC;2CAC9C9B,YAAA,CAAoD+B,sBAAA;QAAtCC,KAAK,EAAEhB,IAAA,CAAAiB,aAAa;QAAEH,KAAK,EAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}